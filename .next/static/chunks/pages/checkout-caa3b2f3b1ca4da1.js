(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{7250:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return t(4779)}])},7781:function(e,s,t){"use strict";var a=t(5893),l=t(1664),i=t.n(l),r=t(9008),c=t.n(r);t(7294);var n=t(9239);let d=e=>void 0!==e?.pageData.title?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:e.pageData.title}),(0,a.jsx)("meta",{name:"description",content:e.pageData.description}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)("div",{className:"hero-arera course-item-height",style:{backgroundImage:`url(${(0,n.Z)(e?.pageData?.image)})`},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-12",children:(0,a.jsxs)("div",{className:"hero-breadcrumb-wrapper",children:[(0,a.jsx)("div",{className:"hero-course-1-text",children:(0,a.jsx)("h2",{children:e.pageData.title})}),(0,a.jsx)("div",{className:"course-title-breadcrumb",children:(0,a.jsx)("nav",{children:(0,a.jsxs)("ol",{className:"breadcrumb",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)(i(),{href:"/",legacyBehavior:!0,children:(0,a.jsx)("a",{children:"Home"})})}),(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)("span",{children:e.pageData.title})})]})})})]})})})})})]}):null;s.Z=d},1026:function(e,s,t){"use strict";t.d(s,{pb:function(){return a}});let a="is required"},4779:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(5893),l=t(7294),i=t(7781),r=t(1163),c=t(7536),n=t(7533),d=t(4231),o=t(1026),h=t(2795),m=t(4007),p=t(9238),u=t.n(p);let x={isActive:!0,isActiveA:!0,isActiveB:!0,isActiveC:!0},j=(e,s)=>{switch(s){case"returnCustomer":return{...e,isActive:!e.isActive};case"coupon":return{...e,isActiveA:!e.isActiveA};case"account":return{...e,isActiveB:!e.isActiveB};case"address":return{...e,isActiveC:!e.isActiveC};default:throw Error("Unexpected action")}},_=()=>{let[e,s]=(0,l.useState)(),[t,p]=(0,l.useReducer)(j,x),[_,y]=(0,l.useState)({}),[N,v]=(0,l.useState)([]),[b,k]=(0,l.useState)(),f=(0,r.useRouter)(),g=JSON.parse(h.ZP.getItem(m.d.APP_USER)),q=f.query.pck??0,A=(0,l.useMemo)(()=>d.Ry({email:d.Z_().email().required(`Email ${o.pb}`),first_name:d.Z_().required(`First name ${o.pb}`)}),[]),{handleSubmit:C,register:w,formState:{errors:P}}=(0,c.cI)({resolver:(0,n.X)(A)}),E=async e=>{fetch("http://127.0.0.1:8000/api/v1/users/order-with-register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>S(e)).catch(e=>console.error(e))},S=s=>{s.data&&null!=b.type&&("pay_later"==s.data.order.payment_method?f.push(e.site_checkout_payment_url+"/"+g.id+"/"+b.type):"paypal"==s.data.order.payment_method?f.push(e.site_checkout_paypal_payment_url+"?amt="+s.data.order.total_price):"stripe"==s.data.order.payment_method?f.push(e.site_checkout_stripe_payment_url+"?amt="+s.data.order.total_price+"&user_id="+g.id+"&order_id="+s.data.order.id):f.push(e.site_checkout_pay_later_url))};(0,l.useEffect)(()=>{g?.id==null&&f.push("/login"),fetch("http://127.0.0.1:8000/api/v1/setting/inner-page/checkout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>F(e)).catch(e=>console.error(e)),fetch("http://127.0.0.1:8000/api/v1/subscription/packages",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>O(e)).catch(e=>console.error(e))},[q]);let F=e=>{s(e.data),y({title:e.data.site_checkout_title,sub_title:e.data?.site_checkout_sub_title,image:e.data.site_checkout_banner_image,description:e.data?.site_checkout_description,keywords:e.data?.site_checkout_keywords,url:'"http://localhost:3000"'})},O=e=>{v(e.data),e.data.forEach(function(e){q==e.id&&k(e)})};return null!=e?(0,a.jsx)("main",{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{pageData:_}),e&&(0,a.jsx)("section",{className:"checkout-area pt-70 pb-70",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("form",{onSubmit:C(E),autoComplete:"off",children:[(0,a.jsx)("input",{type:"hidden",name:"user_id",value:g?.id,...w("user_id")}),(0,a.jsx)("input",{type:"hidden",name:"price_plan_id",value:q,...w("price_plan_id")}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"checkbox-form",children:[(0,a.jsx)("h3",{className:"mb-25",children:e.site_checkout_billing_title}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)("div",{className:"checkout-form-list country-select",children:[(0,a.jsx)("span",{children:"Membership Type: "}),b?.type!=null?(0,a.jsxs)("span",{children:[b.type," - ",b.money_sign,b.amount,"/",b.title]},b?.id):"No package yet!"]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["First Name ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"first_name",...w("first_name"),value:g?.first_name,placeholder:"First Name"}),P.first_name&&(0,a.jsx)("span",{className:"helper-text red-text",children:"First name is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Last Name ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"last_name",value:g?.last_name,...w("last_name"),placeholder:"Last Name"}),P.last_name&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Last name is required"})]})}),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Address ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"street_address",...w("street_address"),value:g?.street_address,placeholder:"Street address"}),P.street_address&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Address is required"})]})}),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Town / City ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"city",value:g?.city,...w("city"),placeholder:"City"}),P.city&&(0,a.jsx)("span",{className:"helper-text red-text",children:"City is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Country ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"country",value:g?.country,...w("country"),placeholder:"Country"}),P.country&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Country is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Postcode ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"zip",value:g?.zip,...w("zip"),placeholder:"Zip"}),P.zip&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Zip is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Email Address ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"email",...w("email"),value:g?.email,placeholder:"Email"}),P.email&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Email is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsxs)("label",{children:["Phone ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"phone",value:g?.phone,...w("phone"),placeholder:"Phone"}),P.phone&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Phone is required"})]})})]}),(0,a.jsxs)("div",{className:"different-address",children:[(0,a.jsx)("div",{className:"ship-different-title",children:(0,a.jsx)("label",{onClick:()=>p("address"),children:e.site_checkout_shipping_title})}),(0,a.jsx)("div",{id:"ship-box-info",className:`${t.isActiveC?"danger":"d-block"}`,children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"First Name"}),(0,a.jsx)("input",{type:"text",name:"alt_first_name",...w("alt_first_name"),placeholder:"First address"}),P.first_name&&(0,a.jsx)("span",{className:"helper-text red-text",children:"First name is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Last Name"}),(0,a.jsx)("input",{type:"text",name:"alt_last_name",...w("alt_last_name"),placeholder:"Last Name"}),P.alt_last_name&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Last name is required"})]})}),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Address"}),(0,a.jsx)("input",{type:"text",name:"alt_street_address",...w("alt_street_address"),placeholder:"Street address"}),P.alt_street_address&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Street address is required"})]})}),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Town / City"}),(0,a.jsx)("input",{type:"text",name:"alt_city",...w("alt_city"),placeholder:"City"}),P.alt_city&&(0,a.jsx)("span",{className:"helper-text red-text",children:"City is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"State / County"}),(0,a.jsx)("input",{type:"text",name:"street_address",...w("alt_country"),placeholder:"Country Name"}),P.alt_country&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Country is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Postcode / Zip"}),(0,a.jsx)("input",{type:"text",name:"alt_zip",...w("alt_zip"),placeholder:"Postcode / Zip"}),P.alt_zip&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Zip is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Email"}),(0,a.jsx)("input",{type:"text",name:"alt_email",...w("alt_email"),placeholder:"Email address"}),P.alt_email&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Email is required"})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"checkout-form-list",children:[(0,a.jsx)("label",{children:"Phone"}),(0,a.jsx)("input",{type:"text",name:"alt_phone",...w("alt_phone"),placeholder:"Phone"}),P.alt_phone&&(0,a.jsx)("span",{className:"helper-text red-text",children:"Phone is required"})]})})]})})]})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"your-order mb-30 ",children:[(0,a.jsx)("h3",{children:e.site_checkout_payment_title}),(0,a.jsxs)("div",{className:"payment-method",children:[(0,a.jsx)("div",{className:"accordion",id:"checkoutAccordion",children:(0,a.jsxs)("div",{className:"accordion-item",children:[(0,a.jsx)("h2",{className:"accordion-header",id:"checkoutOne",children:(0,a.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#bankOne","aria-expanded":"true","aria-controls":"bankOne",children:e.site_checkout_payment_default_title})}),(0,a.jsx)("div",{id:"bankOne",className:"accordion-collapse collapse show","aria-labelledby":"checkoutOne","data-bs-parent":"#checkoutAccordion",children:(0,a.jsxs)("div",{className:"accordion-body",children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:u().sanitize(e.site_checkout_payment_default_description)}}),null!=e.site_checkout_pay_later_url?(0,a.jsx)("div",{className:"payment-option mb-10",children:(0,a.jsxs)("label",{htmlFor:"pay_later_payment",children:[(0,a.jsx)("input",{type:"radio",id:"pay_later_payment",name:"payment_method",...w("payment_method"),checked:!0,value:"pay_later",readOnly:!0})," Pay later"]})}):null,null!=e.site_checkout_payment_url?(0,a.jsx)("div",{className:"payment-option mb-10",children:(0,a.jsxs)("label",{htmlFor:"mollie_payment",children:[(0,a.jsx)("input",{type:"radio",id:"mollie_payment",name:"payment_method",...w("payment_method"),checked:!0,value:"mollie",readOnly:!0})," Mollie Payment"]})}):null,null!=e.site_checkout_paypal_payment_url?(0,a.jsx)("div",{className:"payment-option mb-10",children:(0,a.jsxs)("label",{htmlFor:"paypal_payment",children:[(0,a.jsx)("input",{type:"radio",id:"paypal_payment",name:"payment_method",...w("payment_method"),checked:!0,value:"paypal",readOnly:!0})," Pay with Paypal"]})}):null,null!=e.site_checkout_stripe_payment_url?(0,a.jsx)("div",{className:"payment-option mb-10",children:(0,a.jsxs)("label",{htmlFor:"stripe_payment",children:[(0,a.jsx)("input",{type:"radio",id:"stripe_payment",name:"payment_method",...w("payment_method"),checked:!0,value:"stripe",readOnly:!0})," Pay with Visa/Mastercard"]})}):null]})})]})}),(0,a.jsx)("div",{className:"order-button-payment mt-20",children:(0,a.jsx)("button",{type:"submit",className:"edu-btn",children:e.site_checkout_btn_text})})]})]})})]})]})})})]})}):null};var y=t(1525),N=t(1658);function v(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{}),(0,a.jsx)(_,{}),(0,a.jsx)(y.Z,{})]})}}},function(e){e.O(0,[7521,9491,3338,1658,9774,2888,179],function(){return e(e.s=7250)}),_N_E=e.O()}]);