(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4373],{7013:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/[slug]",function(){return s(4292)}])},4292:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var i=s(5893),a=s(7294),n=s(7632);let l=e=>{let t=e.dataQ,s=e.number,a=e.checkAnswerPref,l=e.answers,d=e=>{if(e.target.checked){let t=e.target.getAttribute("data-val"),s=e.target.getAttribute("data-name");a(e.target.value,t,s)}},r=e=>l.includes(e);return void 0!==t?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bd-class-content-mcq mb-50",children:[(0,i.jsx)("h4",{children:t.title}),(0,i.jsxs)("p",{children:[t.content_data&&JSON.parse(t.content_data).points," ",JSON.parse(t.content_data).points>1?"points":"point"]}),(0,i.jsxs)("div",{className:"bd-class-content-mcq-list",children:[(0,i.jsx)("ul",{children:t.content_data&&JSON.parse(t.content_data).options.map((e,a)=>(0,i.jsx)("li",{children:(0,i.jsxs)("label",{htmlFor:"mcq_question_"+s+"_"+a,children:[(0,i.jsx)("input",{type:"radio","data-val":JSON.stringify(JSON.parse(t.content_data).options),"data-name":t.id+"~=~",id:"mcq_question_"+s+"_"+a,name:`mcq[${t.id}]`,checked:r(t.id+"~=~"+e),onChange:d,value:t.id+"~=~"+e}),e]})},(0,n.Z)()))}),t.explanation&&(0,i.jsx)("div",{className:"explanation",children:t.explanation})]})]})}):null},d=e=>{let t=e.dataQ;return e.number,e.answers,void 0!==t?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bd-class-content-mcq quiz-question-header mb-50",children:[(0,i.jsx)("h4",{children:t.title}),t.explanation&&(0,i.jsx)("div",{className:"bd-class-content-mcq-list",children:(0,i.jsx)("div",{className:"explanation",children:t.explanation})})]})}):null};var r=s(1163),c=s(2795),o=s(4007),u=s(381),m=s.n(u),h=s(7536),_=s(7533),p=s(4231),x=s(3454);let j={isActive:!0},v=(e,t)=>{if("writeReview"===t)return{...e,isActive:!e.isActive};throw Error("Unexpected action")},N=()=>{let e;let[t,s]=(0,a.useReducer)(v,j),[u,N]=(0,a.useState)([]),g=(0,r.useRouter)(),[b,f]=(0,a.useState)(),[q,y]=(0,a.useState)({}),[S,w]=(0,a.useState)(""),[A,k]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[z,O]=(0,a.useState)(""),[C,J]=(0,a.useState)(90),[R,T]=(0,a.useState)(""),L=g.query.slug,Z=g.query.cid,$=JSON.parse(c.ZP.getItem(o.d.APP_USER)),U=(0,a.useMemo)(()=>p.Ry({}),[]),{handleSubmit:B,register:Q,setValue:D,formState:{errors:F}}=(0,h.cI)({resolver:(0,_.X)(U)}),I=async e=>{D("exam_time",C),D("mcq_question",JSON.stringify(u)),D("short_question",P),D("fill_the_blank",z),D("multi_mcq_question",JSON.stringify(A)),D("user_id",$.id);let t=c.ZP.getItem(o.d.APP_TOKEN);console.log(`${x.env.APP_BACK_END_URL}/result/quiz-submit`),fetch(`${x.env.APP_BACK_END_URL}/result/quiz-submit`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>K(e)).catch(e=>console.error(e))},K=e=>{if(e.data){let t=e.data.quiz.id,s=e.data.quiz.slug;g.push("/result/"+t+"?title="+s)}},M=(e,t,s)=>{let i=JSON.parse(t);i.map((t,i)=>{let a=s+t,n=u.indexOf(a);e!=a&&-1!=n&&u.splice(n,1)}),u.push(e),N(u)};(0,a.useEffect)(()=>{if($?.id==null)g.push("/login");else{let e=m()($.end_at),t=m()(new Date),s=e.diff(t,"days");s<=0&&g.push("/subscription")}L&&(fetch(`${x.env.APP_BACK_END_URL}/quiz/details?slug=${L}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(e.data.title){f(e.data);let t=60*e.data.setting_data.timer_time;J(t),Y(t)}else g.push("/404")}).catch(e=>console.error(e)),fetch(`${x.env.APP_BACK_END_URL}/setting/inner-page/course-details?slug=${L}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>X(e)).catch(e=>console.error(e)))},[L]);let X=e=>{y({title:e.data?.site_course_details_title,sub_title:e.data?.site_course_details_sub_title,image:e.data?.site_course_details_banner_image,description:e.data?.site_course_details_description,keywords:e.data?.site_course_details_keywords,url:x.env.APP_BASE_URL})},Y=t=>{e=setInterval(()=>{isNaN(--t)||(t<=0&&clearInterval(e),G(t),J(t))},1e3)},G=e=>{let t=e%60,s=Math.floor(e/60);T((s=1===s.toString().length?0+s:s)+":"+(t=1===t.toString().length?0+t:t))};(0,a.useEffect)(()=>(window.addEventListener("scroll",H),()=>{window.removeEventListener("scroll",H)}));let H=e=>{let t=document.querySelector(".bd-class-sidebar"),s=window.scrollY;s>=120?t.classList.add("sticky"):t.classList.remove("sticky")};return void 0!==b?.title&&"undefined"!==q&&null!==b&&b.setting_data.quiz_attempt>b.taken_quiz?(0,i.jsx)("main",{children:b&&(0,i.jsx)("div",{className:"bd-class-area pt-120 pb-120",children:(0,i.jsxs)("form",{onSubmit:B(I),autoComplete:"off",children:[(0,i.jsx)("input",{type:"hidden",name:"quiz_id",value:b.id,...Q("quiz_id")}),(0,i.jsx)("input",{type:"hidden",name:"exam_time",value:C,...Q("exam_time")}),(0,i.jsx)("input",{type:"hidden",name:"course_id",value:Z,...Q("course_id")}),(0,i.jsx)("input",{type:"hidden",name:"user_id",value:$.id??"",...Q("user_id")}),(0,i.jsx)("input",{type:"hidden",name:"mcq_question",value:JSON.stringify(u),...Q("mcq_question")}),(0,i.jsx)("input",{type:"hidden",name:"multi_mcq_question",value:A,...Q("multi_mcq_question")}),(0,i.jsx)("input",{type:"hidden",name:"short_question",value:P,...Q("short_question")}),(0,i.jsx)("input",{type:"hidden",name:"fill_the_blank",value:z,...Q("fill_the_blank")}),(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"header-main-wrapper",children:(0,i.jsxs)("div",{className:"bd-class-main",children:[(0,i.jsxs)("div",{className:"bd-class-sidebar",children:[(0,i.jsxs)("div",{className:"bd-class-sidebar-header",children:[(0,i.jsx)("h3",{children:b?.title}),(0,i.jsx)("i",{className:"far fa-chevron-right"})]}),(0,i.jsx)("div",{className:"bd-class-sidebar-header pt-0",children:b.setting_data&&(0,i.jsxs)("div",{className:"quiz-setting",children:[(0,i.jsxs)("div",{className:"quiz-timer",children:[(0,i.jsx)("span",{className:"w-20",children:(0,i.jsx)("strong",{children:R})})," time left"]}),(0,i.jsxs)("div",{className:"quiz-time duration",children:[(0,i.jsx)("strong",{children:"Time: "}),b.setting_data.timer_time," Minutes"]}),(0,i.jsxs)("div",{className:"quiz-time marking",children:[(0,i.jsx)("strong",{children:"Negative Marking: "}),"1"==b.setting_data.allow_negative_mark?"Yes":"No"]})]})}),(0,i.jsx)("div",{className:"bd-class-lessons",children:(0,i.jsx)("ul",{children:b?.lessons&&b?.lessons.map(e=>(0,i.jsxs)("li",{className:"active",children:[(0,i.jsx)("span",{children:e.title}),e?.topics&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("ul",{children:e?.topics&&e?.topics.map(e=>(0,i.jsx)("li",{children:e?.title},(0,n.Z)()))})}),e?.class_test&&(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:e?.class_test?.title})})]},(0,n.Z)()))})})]}),(0,i.jsxs)("div",{className:"bd-class-content",children:[b.questions&&b.questions.map((e,t)=>(0,i.jsxs)("div",{className:"bd-class-content-single",children:["Header"==e.category&&(0,i.jsx)(d,{dataQ:e,answers:u,number:t}),"MCQ"==e.category&&(0,i.jsx)(l,{checkAnswerPref:M,dataQ:e,answers:u,number:t})]},(0,n.Z)())),(0,i.jsx)("div",{className:"bd-class-content-btn text-center",children:(0,i.jsx)("button",{type:"submit",className:"blog-btn",children:"Submit Quiz"})})]})]})})})]})})}):(0,i.jsx)("div",{className:"bd-class-area pt-120 pb-120",children:(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsxs)("div",{className:"header-main-wrapper text-center",children:["Already you reach out your limit. You have been taken ",b?.taken_quiz," times"]})})})};var g=s(1525),b=s(1658);function f(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Z,{}),(0,i.jsx)(N,{}),(0,i.jsx)(g.Z,{})]})}}},function(e){e.O(0,[4885,7521,9491,3338,1658,9774,2888,179],function(){return e(e.s=7013)}),_N_E=e.O()}]);