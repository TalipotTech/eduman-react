(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{7250:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return a(4779)}])},7781:function(e,s,a){"use strict";var t=a(5893),l=a(1664),i=a.n(l),r=a(9008),c=a.n(r);a(7294);var n=a(9239);let d=e=>void 0!==e?.pageData.title?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c(),{children:[(0,t.jsx)("title",{children:e.pageData.title}),(0,t.jsx)("meta",{name:"description",content:e.pageData.description}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)("div",{className:"hero-arera course-item-height",style:{backgroundImage:`url(${(0,n.Z)(e?.pageData?.image)})`},children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-xl-12",children:(0,t.jsxs)("div",{className:"hero-breadcrumb-wrapper",children:[(0,t.jsx)("div",{className:"hero-course-1-text",children:(0,t.jsx)("h2",{children:e.pageData.title})}),(0,t.jsx)("div",{className:"course-title-breadcrumb",children:(0,t.jsx)("nav",{children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(i(),{href:"/",legacyBehavior:!0,children:(0,t.jsx)("a",{children:"Home"})})}),(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)("span",{children:e.pageData.title})})]})})})]})})})})})]}):null;s.Z=d},1026:function(e,s,a){"use strict";a.d(s,{pb:function(){return t}});let t="is required"},4779:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(5893),l=a(7294),i=a(7781),r=a(1163),c=a(7536),n=a(7533),d=a(4231),o=a(1026),h=a(2795),m=a(4007),p=a(9238),u=a.n(p),x=a(3454);let _={isActive:!0,isActiveA:!0,isActiveB:!0,isActiveC:!0},j=(e,s)=>{switch(s){case"returnCustomer":return{...e,isActive:!e.isActive};case"coupon":return{...e,isActiveA:!e.isActiveA};case"account":return{...e,isActiveB:!e.isActiveB};case"address":return{...e,isActiveC:!e.isActiveC};default:throw Error("Unexpected action")}},y=()=>{let[e,s]=(0,l.useState)(),[a,p]=(0,l.useReducer)(j,_),[y,N]=(0,l.useState)({}),[v,b]=(0,l.useState)([]),[k,f]=(0,l.useState)(),g=(0,r.useRouter)(),A=JSON.parse(h.ZP.getItem(m.d.APP_USER)),q=g.query.pck??0,P=(0,l.useMemo)(()=>d.Ry({email:d.Z_().email().required(`Email ${o.pb}`),first_name:d.Z_().required(`First name ${o.pb}`)}),[]),{handleSubmit:C,register:E,formState:{errors:w}}=(0,c.cI)({resolver:(0,n.X)(P)}),S=async e=>{fetch(`${x.env.APP_BACK_END_URL}/users/order-with-register`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>F(e)).catch(e=>console.error(e))},F=s=>{s.data&&null!=k.type&&("pay_later"==s.data.order.payment_method?g.push(e.site_checkout_payment_url+"/"+A.id+"/"+k.type):"paypal"==s.data.order.payment_method?g.push(e.site_checkout_paypal_payment_url+"?amt="+s.data.order.total_price):"stripe"==s.data.order.payment_method?g.push(e.site_checkout_stripe_payment_url+"?amt="+s.data.order.total_price+"&user_id="+A.id+"&order_id="+s.data.order.id):g.push(e.site_checkout_pay_later_url))};(0,l.useEffect)(()=>{A?.id==null&&g.push("/login"),fetch(`${x.env.APP_BACK_END_URL}/setting/inner-page/checkout`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>O(e)).catch(e=>console.error(e)),fetch(`${x.env.APP_BACK_END_URL}/subscription/packages`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>Z(e)).catch(e=>console.error(e))},[q]);let O=e=>{s(e.data),N({title:e.data.site_checkout_title,sub_title:e.data?.site_checkout_sub_title,image:e.data.site_checkout_banner_image,description:e.data?.site_checkout_description,keywords:e.data?.site_checkout_keywords,url:x.env.APP_BASE_URL})},Z=e=>{b(e.data),e.data.forEach(function(e){q==e.id&&f(e)})};return null!=e?(0,t.jsx)("main",{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{pageData:y}),e&&(0,t.jsx)("section",{className:"checkout-area pt-70 pb-70",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("form",{onSubmit:C(S),autoComplete:"off",children:[(0,t.jsx)("input",{type:"hidden",name:"user_id",value:A?.id,...E("user_id")}),(0,t.jsx)("input",{type:"hidden",name:"price_plan_id",value:q,...E("price_plan_id")}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"checkbox-form",children:[(0,t.jsx)("h3",{className:"mb-25",children:e.site_checkout_billing_title}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"checkout-form-list country-select",children:[(0,t.jsx)("span",{children:"Membership Type: "}),k?.type!=null?(0,t.jsxs)("span",{children:[k.type," - ",k.money_sign,k.amount,"/",k.title]},k?.id):"No package yet!"]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["First Name ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"first_name",...E("first_name"),value:A?.first_name,placeholder:"First Name"}),w.first_name&&(0,t.jsx)("span",{className:"helper-text red-text",children:"First name is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Last Name ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"last_name",value:A?.last_name,...E("last_name"),placeholder:"Last Name"}),w.last_name&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Last name is required"})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Address ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"street_address",...E("street_address"),value:A?.street_address,placeholder:"Street address"}),w.street_address&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Address is required"})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Town / City ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"city",value:A?.city,...E("city"),placeholder:"City"}),w.city&&(0,t.jsx)("span",{className:"helper-text red-text",children:"City is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Country ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"country",value:A?.country,...E("country"),placeholder:"Country"}),w.country&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Country is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Postcode ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"zip",value:A?.zip,...E("zip"),placeholder:"Zip"}),w.zip&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Zip is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Email Address ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"email",...E("email"),value:A?.email,placeholder:"Email"}),w.email&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Email is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsxs)("label",{children:["Phone ",(0,t.jsx)("span",{className:"required",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"phone",value:A?.phone,...E("phone"),placeholder:"Phone"}),w.phone&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Phone is required"})]})})]}),(0,t.jsxs)("div",{className:"different-address",children:[(0,t.jsx)("div",{className:"ship-different-title",children:(0,t.jsx)("label",{onClick:()=>p("address"),children:e.site_checkout_shipping_title})}),(0,t.jsx)("div",{id:"ship-box-info",className:`${a.isActiveC?"danger":"d-block"}`,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"First Name"}),(0,t.jsx)("input",{type:"text",name:"alt_first_name",...E("alt_first_name"),placeholder:"First address"}),w.first_name&&(0,t.jsx)("span",{className:"helper-text red-text",children:"First name is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Last Name"}),(0,t.jsx)("input",{type:"text",name:"alt_last_name",...E("alt_last_name"),placeholder:"Last Name"}),w.alt_last_name&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Last name is required"})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Address"}),(0,t.jsx)("input",{type:"text",name:"alt_street_address",...E("alt_street_address"),placeholder:"Street address"}),w.alt_street_address&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Street address is required"})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Town / City"}),(0,t.jsx)("input",{type:"text",name:"alt_city",...E("alt_city"),placeholder:"City"}),w.alt_city&&(0,t.jsx)("span",{className:"helper-text red-text",children:"City is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"State / County"}),(0,t.jsx)("input",{type:"text",name:"street_address",...E("alt_country"),placeholder:"Country Name"}),w.alt_country&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Country is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Postcode / Zip"}),(0,t.jsx)("input",{type:"text",name:"alt_zip",...E("alt_zip"),placeholder:"Postcode / Zip"}),w.alt_zip&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Zip is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{type:"text",name:"alt_email",...E("alt_email"),placeholder:"Email address"}),w.alt_email&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Email is required"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"checkout-form-list",children:[(0,t.jsx)("label",{children:"Phone"}),(0,t.jsx)("input",{type:"text",name:"alt_phone",...E("alt_phone"),placeholder:"Phone"}),w.alt_phone&&(0,t.jsx)("span",{className:"helper-text red-text",children:"Phone is required"})]})})]})})]})]})}),(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"your-order mb-30 ",children:[(0,t.jsx)("h3",{children:e.site_checkout_payment_title}),(0,t.jsxs)("div",{className:"payment-method",children:[(0,t.jsx)("div",{className:"accordion",id:"checkoutAccordion",children:(0,t.jsxs)("div",{className:"accordion-item",children:[(0,t.jsx)("h2",{className:"accordion-header",id:"checkoutOne",children:(0,t.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#bankOne","aria-expanded":"true","aria-controls":"bankOne",children:e.site_checkout_payment_default_title})}),(0,t.jsx)("div",{id:"bankOne",className:"accordion-collapse collapse show","aria-labelledby":"checkoutOne","data-bs-parent":"#checkoutAccordion",children:(0,t.jsxs)("div",{className:"accordion-body",children:[(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:u().sanitize(e.site_checkout_payment_default_description)}}),null!=e.site_checkout_pay_later_url?(0,t.jsx)("div",{className:"payment-option mb-10",children:(0,t.jsxs)("label",{htmlFor:"pay_later_payment",children:[(0,t.jsx)("input",{type:"radio",id:"pay_later_payment",name:"payment_method",...E("payment_method"),checked:!0,value:"pay_later",readOnly:!0})," Pay later"]})}):null,null!=e.site_checkout_payment_url?(0,t.jsx)("div",{className:"payment-option mb-10",children:(0,t.jsxs)("label",{htmlFor:"mollie_payment",children:[(0,t.jsx)("input",{type:"radio",id:"mollie_payment",name:"payment_method",...E("payment_method"),checked:!0,value:"mollie",readOnly:!0})," Mollie Payment"]})}):null,null!=e.site_checkout_paypal_payment_url?(0,t.jsx)("div",{className:"payment-option mb-10",children:(0,t.jsxs)("label",{htmlFor:"paypal_payment",children:[(0,t.jsx)("input",{type:"radio",id:"paypal_payment",name:"payment_method",...E("payment_method"),checked:!0,value:"paypal",readOnly:!0})," Pay with Paypal"]})}):null,null!=e.site_checkout_stripe_payment_url?(0,t.jsx)("div",{className:"payment-option mb-10",children:(0,t.jsxs)("label",{htmlFor:"stripe_payment",children:[(0,t.jsx)("input",{type:"radio",id:"stripe_payment",name:"payment_method",...E("payment_method"),checked:!0,value:"stripe",readOnly:!0})," Pay with Visa/Mastercard"]})}):null]})})]})}),(0,t.jsx)("div",{className:"order-button-payment mt-20",children:(0,t.jsx)("button",{type:"submit",className:"edu-btn",children:e.site_checkout_btn_text})})]})]})})]})]})})})]})}):null};var N=a(1525),v=a(1658);function b(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{}),(0,t.jsx)(y,{}),(0,t.jsx)(N.Z,{})]})}}},function(e){e.O(0,[7521,9491,3338,1658,9774,2888,179],function(){return e(e.s=7250)}),_N_E=e.O()}]);